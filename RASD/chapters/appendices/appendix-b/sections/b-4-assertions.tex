\newpage

\section{Assertions}

\lstset{language=alloy}

\begin{lstlisting}
assert noActiveBookingIfRentalEnded {
	all r: Rental | (r.ended=True) => no b: Booking |
		(r.booking=b && b.ended=False)
}

assert paymentIfRentalEnded {
	all p: PaymentRental | all r: Rental |
		(p.rental = r) =>  (r.ended = True)
}

assert noRentalActiveIfCarUnavailable {
	all c: Car | some r: Rental | some b: Booking |
		(c.status=Unavailable && r.booking=b && b.car=c) => (r.ended=True) 
}

assert singleAlertIfCarUnavailable {
	all c: Car | (c.status=Unavailable) => one r: RecoveryAlert | (r.car=c)
}
\end{lstlisting}
